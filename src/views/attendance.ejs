<%- include('partials/header') %>
<title>Attendance</title>

</head>
<body class="d-flex flex-column  align-items-center">
    <h1>Ganpat Hasmukhbhai Parmar</h1>
    <h1>Student Attendace Report</h1>
    <nav aria-label="Pagination">
        <ul class="pagination">
          <% if (pid==1) { %>
            <li class="page-item disabled">
              <a class="page-link " href="/api/api/attendance?page=1&month=<%= month %>" tabindex="-1">Start</a>
            </li>
            <li class="page-item disabled"><a class="page-link" href="/api/attendance?page=<%= parseInt(pid)-1 %>&month=<%= month %>">Previous</a></li>
            <%} else{ %>
              <li class="page-item">
                <a class="page-link" href="/api/attendance?page=1" tabindex="-1">Start</a>
              <li class="page-item"><a class="page-link" href="/api/attendance?page=<%= parseInt(pid)-1 %>&month=<%= month %>">Previous</a></li>
              </li>
              <% }%>
    
    
                <li class="page-item disabled">
                  <a class="page-link" href="/api/attendance?page=<% pid %>&month=<%= month %>">
                    <%= pid %>
                  </a>
                </li>
                <% if(pid==20){ %>
                  <li class="page-item disabled"><a class="page-link" href="/api/attendance?page=<%= parseInt(pid)+1 %>&month=<%= month %>">Next</a></li>
                  <li class="page-item disabled">
                    <a class="page-link" href="/api/attendance?page=20&month=<%= month %>">Last</a>
                  </li>
                  <% } else { %>
                    <li class="page-item"><a class="page-link" href="/api/attendance?page=<%= parseInt(pid)+1 %>&month=<%= month %>">Next</a></li>
                    <li class="page-item">
                      <a class="page-link" href="/api/attendance?page=20&month=<%= month %>">Last</a>
                    </li>
                    <% } %>
    
        </ul>
      </nav>
      <div class="dropdown">
        <% if (month == 1) { %>
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                January
              </button>
        <% } %>
        <% if (month == 2) { %>
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                February
              </button>
        <% } %>
        <% if (month == 3) { %>
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                March
              </button>
        <% } %>
       
          
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a class="dropdown-item" href="/api/attendance?&month=1">January</a>
          <a class="dropdown-item" href="/api/attendance?&month=2">February</a>
          <a class="dropdown-item" href="/api/attendance?&month=3">March</a>
        </div>
      </div>
    <table class="table">
        <thead>
    
          <tr>
            <% fields.forEach(field=> { %>
              <td>
                <%=field.name %>              
              </td>
              <% }) %>
    
          </tr>
        </thead>
        <tbody>
          <% result.forEach(res=> { %>
            <tr>
              <td>
                <%= res.id %>
              </td>
              <td>
                <%= res.Name %>
             <td>
                <%= res.cnt %>
             </td>
               
                
              
              <td>
                <%= res.percentage %>
              </td>
              
            </tr>
    
            <% }) %>
        </tbody>
      </table>

      <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"></script>
          <%- include('partials/footer') %>